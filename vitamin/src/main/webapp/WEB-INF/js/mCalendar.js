$.mCalendar=function(t,u,v){var w=$(t);var x=new Date(parseInt(u.split("-")[0]),parseInt(u.split("-")[1])-1,1);var y=new Date(parseInt(v.split("-")[0]),parseInt(v.split("-")[1])-1,1);if(x>y)return;if(x.getMonth()!=y.getMonth()||x.getFullYear()!=y.getFullYear()){var A=[];var B;B=(y.getFullYear()-x.getFullYear())*12;B-=x.getMonth()+1;B+=y.getMonth()+1;for(var i=0;i<B;i++){var C=$(t+":eq(0)").clone();A.push(C)}makeCal(t,x);var D=x.getFullYear();var E=x.getMonth()+1;var F=x.getMonth();var G=w;A.forEach(function(a,i){G.after(a);G=a;if(i!=0&&F>=E){D++}makeCal(a,new Date(D,E++))})}else{makeCal(t,x)}function makeCal(a,b,c){a=$(a);b=new Date(b.getFullYear(),b.getMonth(),1);if(c)b.setMonth(c+1);var d=$("<div>").addClass("weekTitle");var e=["일","월","화","수","목","금","토"];for(var i=0;i<e.length;i++){var f=$("<div>").append($("<div>").text(e[i])).addClass("day");if(i==0)f.addClass("sun");else if(i==e.length)f.addClass("sat");f.appendTo(d)};var g=new Date(b.getFullYear(),b.getMonth()+1,0).getDate();var h=b.getDay();var j=(b.getFullYear()).toString().substring(2);var k=b.getMonth()+1;if(k.toString().length==1)k="0"+k;var l=new Date(b.getFullYear(),b.getMonth(),0);var m=l.getDate();var n=$("<div>").addClass("mCalendar").append($("<div>").addClass("title").append($("<div>").addClass("month").text((b.getMonth()+1)+"월")).append($("<div>").addClass("year").text(b.getFullYear()))).append(d);a.append(n);n.append($("<div>").addClass("week"));for(var i=0;i<h;i++){n.find(".week:eq(0)").append($("<div>").addClass("day prev").append($("<div>").text((m+1)-(h-i))))}for(var i=1;i<=7-h;i++){var o=i;if(o.toString().length==1)o="0"+o;var f=$("<div>").addClass("day").append($("<div>").text(i));var p=new Date();if(j==p.getYear()-100&&k==p.getMonth()+1&&i==p.getDate()){f.addClass("now")}if(u.split("-")[0]=="20"+j&&u.split("-")[1]==k&&parseInt(u.split("-")[2])==i){f.addClass("start")}else if(v.split("-")[0]=="20"+j&&v.split("-")[1]==k&&parseInt(v.split("-")[2])==i){f.addClass("end")}if(u.split("-")[0]<="20"+j&&v.split("-")[0]>="20"+j){if(u.split("-")[0]==v.split("-")[0]){if(u.split("-")[1]==k){if(u.split("-")[2]<=i){f.addClass("select")}}else if(v.split("-")[1]==k){if(v.split("-")[2]>=i){f.addClass("select")}}else if(u.split("-")[1]<k<v.split("-")[1]){f.addClass("select")}}else if(u.split("-")[0]!=v.split("-")[0]&&u.split("-")[0]=="20"+j&&u.split("-")[1]<=k){if(u.split("-")[1]==k){if(u.split("-")[2]<=i){f.addClass("select")}}else if(u.split("-")[1]<k){f.addClass("select")}}else if(u.split("-")[0]<"20"+j){if(v.split("-")[0]>"20"+j){f.addClass("select")}else if(v.split("-")[0]=="20"+j&&v.split("-")[1]>=k){if(v.split("-")[1]==k&&v.split("-")[2]>=i){f.addClass("select")}else if(v.split("-")[1]>k){f.addClass("select")}}}}if(i==7-h)f.addClass("sat");else if(i==1&&h==0)f.addClass("sun");n.find(".week:eq(0)").append(f)}var q=1;var r=n.find(".week:eq(0)");for(var i=7-h+1;i<=g;i++){var o=i;if(o.toString().length==1)o="0"+o;var s=r.find("> div").length;var f=$("<div>").addClass("day").text(i);if(j==p.getYear()-100&&k==p.getMonth()+1&&i==p.getDate()){f.addClass("now")}if(u.split("-")[0]=="20"+j&&u.split("-")[1]==k&&parseInt(u.split("-")[2])==i){f.addClass("start")}else if(v.split("-")[0]=="20"+j&&v.split("-")[1]==k&&parseInt(v.split("-")[2])==i){f.addClass("end")}if(u.split("-")[0]<="20"+j&&v.split("-")[0]>="20"+j){if(u.split("-")[0]==v.split("-")[0]){if(u.split("-")[1]==k){if(u.split("-")[2]<=i){f.addClass("select")}}else if(v.split("-")[1]==k){if(v.split("-")[2]>=i){f.addClass("select")}}else if(u.split("-")[1]<k<v.split("-")[1]){f.addClass("select")}}else if(u.split("-")[0]!=v.split("-")[0]&&u.split("-")[0]=="20"+j&&u.split("-")[1]<=k){if(u.split("-")[1]==k){if(u.split("-")[2]<=i){f.addClass("select")}}else if(u.split("-")[1]<k){f.addClass("select")}}else if(u.split("-")[0]<"20"+j){if(v.split("-")[0]>"20"+j){f.addClass("select")}else if(v.split("-")[0]=="20"+j&&v.split("-")[1]>=k){if(v.split("-")[1]==k&&v.split("-")[2]>=i){f.addClass("select")}else if(v.split("-")[1]>k){f.addClass("select")}}}}if(s%7==0){n.append($("<div>").addClass("week"));r=n.find(".week:eq("+q++ +")");f.addClass("sun")}else if(s%6==0)f.addClass("sat");r.append(f);if(i==g){s=f.parent().find("> div").length;for(var z=0;z<7-s;z++){r.append($("<div>").addClass("day"))}}}}}